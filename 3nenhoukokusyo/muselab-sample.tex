% !TEX root = _main3nen.tex
% ========================================
% 卒業論文　本文
% ========================================

%1
\section{はじめに}
私は、1年間の活動として、ビジュアルプログラミング言語である「Touch Designer」と
アミッドスクリーンを用いたシンプルなタッチゲームの構築を行った。
本活動では、映像技術を用いたインタラクティブコンテンツの制作を通して、
利用者が直感的に参加できる体験の設計について検討した。
特に、ユニバーサルデザインの観点から、
年齢や身体状況に左右されにくい操作方法とは何かを意識し、
実際のイベントでの運用を見据えたゲーム制作に取り組んだ。
本報告書では、制作したシステムの概要と、
和田山特別支援学校での実践を通して得られた知見について述べる。
%2
\section{「和田山特別支援学校UD交流会」への参加}
私は、福知山公立大学・橋田研ゼミ生の枠の一つで、ユニバーサルデザインのゲームを提供した。
和田山特別支援学校は、兵庫県朝来市和田山町竹田にある県立特別支援学校であり、
肢体不自由教育校として出発し、但馬地区の特別支援学校再編により知的障害部門を併設したため
現行では肢体不自由・知的併置校となっている。
今回はその学校のイベントに参加し、両手を動かすことに不自由がない人と、
車いすに乗りながらでも両腕を動かすことが可能な人をターゲットに
ゲームの作成を行った。
この交流会への参加は、実際の利用者を想定したコンテンツ設計を行うとともに、
制作物を実環境で検証することを目的としている。

aiu

%3
\section{Touch Designerを用いたタッチゲームの制作}
本章では、Touch Designerとアミッドスクリーンを用いて制作した
タッチゲームのシステム構成および実装内容について述べる。
本ゲームは、カメラを通じて取得した人の動きを入力情報とし、
その情報を映像表現およびゲーム進行に反映させる
インタラクティブコンテンツとして設計した。

Touch Designerは、リアルタイム処理に優れた
ビジュアルプログラミング環境であり、
ノードを接続することで処理の流れを視覚的に把握しながら
システムを構築できる点に特徴がある。
本制作では、この特性を活かし、
イベント現場での調整やトラブル対応にも柔軟に対応できる
ゲームシステムの構築を目指した。


また、アミッドスクリーン(図1)とは、パイプ、ジョイント、
網戸で成り立っている透過スクリーンであり、全長は幅145cm・縦240cmの大型スクリーンとなる。
製作は１人で15分程度で行うことができ、 持ち運びや設営が容易である点も特徴である。 
このような特性から、イベント会場や学校行事など、 限られた準備時間の中でも
導入しやすいスクリーンであると考え、今回使用することにした。
普通のスクリーンではなくアミッドスクリーンを使用することで、
映像と利用者の身体が同一空間に存在しているような
没入感のある体験を提供することを意識した

\begin{figure}[tb]
	\includegraphics[width = \linewidth]{../fig/1.jpg}
	\caption{アミッドスクリーン}
\end{figure}

%3.1
\subsection{初期構想とシステム設計の方針}
本ゲームの制作にあたっては、実装に入る前の段階で、
ユニバーサルデザインの観点からどのような操作方法が適しているかについて検討を行った。
初期構想では、利用者が棒状の道具を持ち、
それを用いて画面上のオブジェクトに触れるという操作方法を想定していた。
この方法であれば、車いすを利用している人であっても、
身体を大きく移動させることなく、比較的高い位置に表示されたオブジェクトにも
触れることができると考えたためである。

しかし、実際にイベントへの参加者層を想定すると、
年齢が小さい子どもが多く含まれることが予想された。
そのため、棒状の道具を使用することで、
周囲の機材やスクリーンを誤って叩いてしまう可能性がある点が課題として浮かび上がった。
これらの安全面への配慮から、
システム側で高い位置にオブジェクトを表示しない設計とし、
道具を使用せずに腕の動きのみで操作できる構成へと方針を変更した。

当たり判定については、初期段階からカメラを用いた検出方式を採用することを想定しており、
非接触で操作できるインタラクションを実現することを目標としていた。
一方で、Touch Designerの使用経験がほとんどない状態からの制作であったため、
実装可能な範囲と完成度のバランスを考慮し、
システム全体はできる限りシンプルな構成にまとめることを重視した。

また、当初はオブジェクトに触れた際に、
はじけて消えるような視覚演出や効果音を付加することも検討していたが、
制作時間や習熟度の問題から、今回は実装を見送る判断をした。
さらに、キーボード入力による操作は初期構想には含まれていなかったが、
イベント当日の運用を想定する中で、
センサー入力が不安定な場合にも対応できる手段として追加することとなった。

以上のような検討を踏まえ、本制作では
「分かりやすさ」と「腕を動かせる人であれば誰でも参加できること」を
システム設計の中心的な方針とし、
実環境での運用に耐えうるインタラクティブゲームの構築を目指した。

%3.2
\subsection{システム概要}
本ゲームのシステムは、
「入力処理」「映像生成」「当たり判定」「映像出力」
という4つの要素によって構成されている。

まず、スクリーン前に設置したカメラから映像を取得し、
利用者の手の動きを検出する。
この検出結果をゲーム内の入力情報として扱い、
画面内を移動するオブジェクトとの当たり判定を行うことで、
映像に触れるという体験を実現した。

最終的な映像は、プロジェクターを通して
アミッドスクリーンに投影される。
透過型スクリーンを用いることで、
利用者自身の身体と映像が重なり合い、
通常のスクリーン投影とは異なる視覚体験を生み出している。

%3.3
\subsection{手の検出と入力情報の生成}
カメラ映像から手の位置を検出するため、
本システムではMediaPipeを利用した。
MediaPipeは、画像や映像から人体の特徴点を検出できるライブラリであり、
手先や関節位置などを高精度に取得することが可能である。(図2)


検出された手の位置情報は、
そのままでは後段の処理で扱いにくいため、
Touch Designer内でNullノードを用いて一度整理した。
これにより、不要なデータの影響を抑えつつ、
安定した入力情報として利用できるようにした。(図3)


整理された位置情報は画面座標に対応づけられ、
ユーザーの手の動きに追従する
仮想的な操作ポイントとして扱われる。
このポイントを基準にすることで、
利用者は画面に直接触れているかのような感覚で
ゲームに参加できる設計となっている。

また、本制作では検出対象を「手」のみに限定した。
これは、大型スクリーンを活かして
腕を大きく動かす体験を促すと同時に、
車いすを利用している参加者でも
無理なく操作できる入力方法を実現するためである。

%3.4
\subsection{ゲーム映像とオブジェクトの構成}
ゲーム内に表示される「もみじ」のオブジェクトは、
Movie File In TOPを用いて複数の画像素材を読み込み、
それぞれにTransform TOPを適用することで
画面内の異なる位置に配置した。(図4)

これらのオブジェクトはSwitch TOPによって切り替えられ、
ランダム性を持たせることで、
もみじが画面内を移動しているように見える演出を行った。
このランダムな配置によって、
利用者は画面全体を使ってオブジェクトを追いかける必要があり、
自然と大きな動作を伴う操作が求められる。(図5)

背景画像も同じように画像素材を読み込み、
秋をイメージした背景を取り入れることで、
全体として統一感のあるビジュアル表現を目指した。
背景ともみじオブジェクトは後段で合成され、
一つのゲーム画面として出力される。(図6)

%3.5
\subsection{当たり判定とゲーム進行の制御}
当たり判定の処理では、
手の位置を示す操作ポイントと
もみじオブジェクトの映像との差分をDiff TOPで取得した。
その結果をAnalyze TOPによって数値化し、
一定以上の値が得られた場合に
「触れた」と判定する仕組みとした。

この判定結果はCHOPデータとして取り出され、
ゲーム進行を制御するための入力として利用した。
具体的には、CHOP Execute DATを用いて、
当たり判定の値が「0」から「1」に変化した瞬間のみを検出し、
そのタイミングで処理が実行されるように設定している。

内部処理ではPythonのrandomモジュールを用い、
Switch TOPに接続された複数のもみじ画像の中から
ランダムに一つを選択して表示を切り替える。
これにより、オブジェクトに触れるたびに
異なる位置にもみじが現れ、
単調にならないゲーム体験を実現した。

また、値が「1」の状態で処理が連続して実行されることを防ぐため、
直前の値と比較する条件分岐を設け、
意図しない誤動作を抑制している。

さらに、イベント当日の運用を想定し、
キーボード入力による制御も併用した。
Keyboard In CHOPおよびCHOP Execute DATを用いることで、
センサー入力が不安定な状況でも、
手動操作によってゲームを進行できる構成とした。

%3.6
\subsection{映像の合成と出力}
最終的な映像は、背景映像ともみじオブジェクトを
Over TOPによって合成し、
Out TOPおよびWindow COMPを通して
アミッドスクリーンへ出力した。

透過スクリーンを使用することで、
利用者の身体と映像が同じ空間に存在しているように見え、
映像に触れている感覚をより強く演出できた。
このように、Touch Designerのノードベースの特性と
Pythonによる制御処理を組み合わせることで、
現場状況に応じた調整が可能な
インタラクティブシステムを構築することができた。
                                                                                             

%4
\section{当日の様子}
当日は、現地でカメラによる手の認識が想定通りに動作しないといったハプニングが発生した。
カメラ位置や角度を何度も調整したものの、安定した検出を行うことができなかったため、
ユーザーがもみじのオブジェクトに触れたタイミングで、手動でオブジェクトを動かす対応を行った。
この対応はその場での応急処置であったが、結果的には大きな違和感なくゲームを進行させることができ、
比較的自然にゲームへ入り込み、楽しんでいる様子が見られた。
また、子どもによっては移動するもみじのオブジェクトを見逃してしまう場面もあり、
その際には保護者が声をかけてサポートしている様子が印象的であった。
車いすを利用している生徒が参加した際には、保護者から棒を渡してもらい、
それを使ってオブジェクトをタッチする工夫も見られた。
中には、素早く動くもみじを夢中になって追いかけ、積極的にタッチを試みる子どもも複数おり、
操作方法を説明しなくても自発的に遊び始める姿も確認できた。


%5
\section{今後の展望}
今回の活動を通して、Touch Designerとアミッドスクリーンを組み合わせた
インタラクティブコンテンツには、ユニバーサルデザインの観点から大きな可能性があると感じた。
今後は、手だけでなく身体全体の動きを活用したコンテンツや、難易度を調整できる仕組みを導入することで、
より幅広い利用者に対応できるゲームへと発展させていきたい。
また、当たり判定や演出面をさらに工夫し、視覚・聴覚の両面から楽しめるコンテンツにすることで、
参加者の没入感を高めることも課題として挙げられる。
イベントごとに内容を柔軟に変更できる点はTouch Designerの強みであるため、
今後の活動に応用していきたい。


%6
\section{まとめ}
本活動では、Touch Designerとアミッドスクリーンを用いて、ユニバーサルデザインを意識した
タッチゲームの制作と実践を行った。実際のイベントに参加することで、机上の制作だけでは得られない
利用者視点の課題や改善点を把握することができ、非常に有意義な経験となった。
今後も、技術的な知識の習得だけでなく、誰もが楽しめるコンテンツとは何かを考えながら、
実践的な制作活動に取り組んでいきたい。


%8
\section{参考文献}





